<div class="fixed inset-0 bg-black/50 flex justify-center items-center z-50" data-controller="modal" data-modal-target="frame" data-action="click->modal#backgroundClose">
  <div class="bg-white p-6 rounded-lg shadow-xl z-10 w-full max-w-lg mx-4">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-xl font-semibold">Create a Channel</h2>
      <button data-action="click->modal#close" class="text-gray-400 hover:text-gray-600">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h84" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="6" y1="6" x2="14" y2="14" stroke-linecap="round" stroke-linejoin="round"/>
          <line x1="14" y1="6" x2="6" y2="14" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
    </div>
    <%= form_with(model: channel, class: "contents") do |form| %>
      <% if channel.errors.any? %>
        <div id="error_explanation" class="bg-red-50 text-red-500 px-3 py-2 font-medium rounded-md mt-3">
          <h2><%= pluralize(channel.errors.count, "error") %> prohibited this channel from being saved:</h2>
          <ul class="list-disc ml-6">
            <% channel.errors.each do |error| %>
              <li><%= error.full_message %></li>
            <% end %>
          </ul>
        </div>
      <% end %>
      <div class="my-5">
        <%= form.label :name %>
        <%= form.text_field :name, required: true, class: ["block shadow-sm rounded-md border px-3 py-2 mt-2 w-full", {"border-gray-400 focus:outline-blue-600": channel.errors[:name].none?, "border-red-400 focus:outline-red-600": channel.errors[:name].any?}] %>
      </div>
      <div>
        <p>Visibility:</p>
        <div>
          <%= form.radio_button :public, true %>
          <%= form.label :public, "Public - Anyone" %>
        </div>
        <div>
          <%= form.radio_button :public, false %>
          <%= form.label :private, "Private - Only specific people" %>
        </div>
      </div>
      <div class="flex justify-end">
        <%= form.submit "Create", class: "rounded-md px-4 py-2 bg-green-700 hover:bg-green-600 text-white font-medium cursor-pointer" %>
      </div>
    <% end %>
  </div>
</div>
